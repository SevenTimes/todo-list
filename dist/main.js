(()=>{"use strict";class e{constructor(e){this.title=e,this.tasks=[]}}function t(){const e=document.getElementById("project-list");let t;document.querySelector(".active")&&(t=document.querySelector(".active").id),e.innerHTML="",n.forEach(((t,n)=>{const c=document.createElement("button");c.classList.add("project"),c.innerText=t.title,c.id=`data-index-${n}`,e.appendChild(c)})),function(){let e=document.querySelectorAll(".project");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(t=>{for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.target.className+=" active";let c=t.target.id;return d=n[`${c.slice(11)}`],i(),d}))}(),void 0!==t&&(document.getElementById(t).className+=" active")}let n=[];const c=new e("Default");n.push(c);let d=n[0];t(),document.querySelector(".project").className+=" active";class s{constructor(e,t,n,c){this.title=e,this.description=t,this.dueDate=n,this.priority=c,this.isCompleted=!1}}function i(){const e=document.getElementById("task-list");e.innerHTML="",d.tasks.length>0&&d.tasks.forEach(((t,n)=>{const c=document.createElement("div");c.classList.add("task",`${t.priority}`);const s=document.createElement("h1");s.innerText=t.title,c.appendChild(s);const l=document.createElement("p");l.innerText=t.description,c.appendChild(l);const o=document.createElement("div"),a=document.createElement("span");a.innerText=t.dueDate,o.appendChild(a);const r=document.createElement("button");r.innerText="DEL",r.addEventListener("click",(()=>{d.tasks.splice(n,1),i()})),o.appendChild(r);const m=document.createElement("input");m.setAttribute("type","checkbox"),t.isCompleted&&(m.checked=!0),m.addEventListener("change",(e=>{e.target.checked?t.isCompleted=!0:t.isCompleted=!1,i()})),o.appendChild(m),t.isCompleted?c.className+=" completed":c.classList.remove("completed"),c.appendChild(o),e.appendChild(c)}))}const l=document.getElementById("title"),o=document.getElementById("description"),a=document.getElementById("dueDate");document.getElementById("form").addEventListener("submit",(function(e){const t=document.querySelector('input[name="priority"]:checked').value,n=new s(l.value,o.value,a.value,t);d.tasks.push(n),document.getElementById("add-task-modal").style.display="none",l.value="",o.value="",a.value="",e.preventDefault(),i()})),document.getElementById("add-project").addEventListener("click",(()=>{const c=prompt("Enter project name","New project"),d=new e(c);n.push(d),t()}))})();